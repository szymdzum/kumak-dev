---
import DateFormatter from "@components/DateFormatter.astro";
import { formatUrl } from "@utils/path";
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props
const postUrl = formatUrl(post.slug);
---

<article>
  <h3>
    <a href={postUrl}>
      {post.data.title}
    </a>
  </h3>
  <p>{post.data.description}</p>
  <div class="meta">
    <DateFormatter date={post.data.pubDate} />
    <span aria-hidden="true">â€¢</span>
    <a href={postUrl} class="read-more">
      Read
    </a>
  </div>
</article>

<style>
  article h3 {
    font-family: var(--font-family-display);
    font-size: var(--text-xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    word-spacing: var(--word-spacing-tight);
    letter-spacing: var(--letter-spacing-tighter);
    margin-bottom: var(--rhythm-quarter);
  }

  article h3 a {
    text-decoration: none;
    color: var(--color-text);
    transition: color var(--transition-fast);
  }

  article h3 a:hover {
    color: var(--color-primary);
  }

  article p {
    margin-bottom: var(--space-sm);
    color: var(--color-text);
  }

  .meta {
    display: flex;
    gap: var(--space-sm);
    align-items: center;
    font-size: var(--text-xs);
    color: var(--color-text-muted);
  }

  .meta a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .meta a:hover {
    color: var(--color-primary-hover);
  }

  .read-more::after {
    content: ">>";
    margin-left: var(--space-2xs);
  }
</style>
